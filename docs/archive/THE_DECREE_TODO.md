# The Decree 实现准备文档

## 📋 待实现功能清单

### 核心游戏逻辑 (`TheDecreeMode.ts`)

#### 基础信息
- [x] 玩家数量：2-4 人
- [ ] 牌组配置（需要规则说明）
- [ ] 初始手牌数量（需要规则说明）

#### 游戏流程
- [ ] `initGame()` - 游戏初始化
  - [ ] 玩家座位安排
  - [ ] 初始化游戏状态
  - [ ] 设置特殊规则参数

- [ ] `dealCards()` - 发牌逻辑
  - [ ] 洗牌算法
  - [ ] 分配手牌
  - [ ] 特殊牌处理（如果有）

- [ ] `isValidPlay()` - 出牌验证
  - [ ] 检查牌型是否合法
  - [ ] 检查是否符合当前游戏状态
  - [ ] 检查玩家是否有权出牌

- [ ] `playCards()` - 执行出牌
  - [ ] 更新玩家手牌
  - [ ] 更新游戏状态
  - [ ] 触发特殊效果

- [ ] `isGameOver()` - 游戏结束判定
  - [ ] 检查胜利条件
  - [ ] 计算分数/排名

#### 特殊功能（根据规则添加）
- [ ] 回合管理
- [ ] 分数计算
- [ ] 特殊卡牌效果
- [ ] 组队机制（如果有）
- [ ] 级别/等级系统（如果有）

### 卡牌评估 (`HandEvaluator.ts` 或新文件)

#### 是否需要修改现有 HandEvaluator？
- [ ] The Decree 使用相同的牌型系统？
- [ ] 需要新增牌型？
- [ ] 需要特殊的比较规则？

#### 可能需要的新功能
- [ ] 新牌型定义
- [ ] 特殊组合规则
- [ ] 权重计算调整

### UI 相关（后续实现）
- [ ] 游戏场景设计
- [ ] 卡牌显示
- [ ] 玩家信息展示
- [ ] 回合指示器
- [ ] 特效动画

## 📝 需要的规则信息

### 基础规则
1. **玩家数量**: 2-4 人 ✅
2. **牌组构成**: 使用几副牌？是否包含大小王？
3. **发牌方式**: 每人多少张牌？是否有底牌？
4. **出牌规则**:
   - 首家如何确定？
   - 可以出什么牌型？
   - 是否需要跟牌？
   - 可以 pass 吗？

### 牌型系统
1. **基础牌型**:
   - 单牌、对子、三张...
   - 是否有顺子、连对等？
2. **特殊牌型**:
   - 炸弹的定义？
   - 是否有 Joker 炸弹？
   - 其他特殊组合？
3. **牌型大小比较**:
   - 牌力顺序（3 < 4 < ... < A < 2？）
   - 同牌型如何比较？
   - 不同牌型能否比较？

### 游戏流程
1. **回合制**:
   - 轮流出牌？
   - 一轮结束条件？
2. **胜利条件**:
   - 先出完牌获胜？
   - 计分制？
   - 是否有级别系统？
3. **特殊规则**:
   - 是否有贡牌？
   - 是否有炸弹加倍？
   - 其他特殊机制？

## 🎯 实现步骤建议

### 第一阶段：核心逻辑
1. 完成基础游戏流程
2. 实现发牌和手牌管理
3. 实现基础出牌逻辑

### 第二阶段：牌型系统
1. 定义所有牌型
2. 实现牌型识别
3. 实现牌型比较

### 第三阶段：游戏规则
1. 实现回合管理
2. 实现胜利判定
3. 实现特殊规则

### 第四阶段：UI 集成
1. 创建游戏场景
2. 绑定事件处理
3. 添加动画效果

## 💡 提示

- 如果 The Decree 的牌型系统与 Guandan 类似，可以直接复用 `HandEvaluator`
- 如果规则完全不同，建议创建 `TheDecreeEvaluator.ts`
- 优先实现最简单的版本（MVP），然后逐步添加功能
- 保持代码与 UI 分离，便于测试和维护

---

**等待规则说明文档...**
