# 牌型显示功能 - 快速测试指南

## 🚀 快速开始

### 1. 运行游戏
在 Cocos Creator 中打开项目并运行游戏场景

### 2. 开始游戏
- 选择 TheDecree 模式
- 开始 4 人游戏

### 3. 观察牌型显示
完成一轮游戏后（所有玩家出牌 → ShowDown），你将看到：

```
┌────────────────────┐
│  玩家 0            │
│  分数: 15          │
│  同花 +9+1  ⭐     │  ← 新显示的牌型（金黄色）
└────────────────────┘

┌────────────────────┐
│  玩家 1            │
│  分数: 8           │
│  一对 +3           │  ← 新显示的牌型（白色）
└────────────────────┘

┌────────────────────┐
│  玩家 2            │
│  分数: 12          │
│  三条 +7           │  ← 新显示的牌型（白色）
└────────────────────┘

┌────────────────────┐
│  玩家 3            │
│  分数: 5           │
│  两对 +5           │  ← 新显示的牌型（白色）
└────────────────────┘
```

### 4. 验证功能
- ✅ 每个玩家都显示了牌型名称和分数
- ✅ 获胜者（玩家 0）的牌型显示为 "同花 +9+1"（额外 +1）
- ✅ 高级牌型（同花）显示为青色/金色
- ✅ 新回合开始时，牌型自动消失

## 📋 测试清单

| 测试项 | 预期结果 | 状态 |
|--------|---------|------|
| 牌型文本显示 | 显示"牌型名 +分数" | ⬜ |
| 获胜者标记 | 显示"+1"额外分 | ⬜ |
| 颜色显示 | 高级牌型显示特殊颜色 | ⬜ |
| 位置正确 | 显示在分数标签下方 | ⬜ |
| 自动清除 | 新回合开始时自动消失 | ⬜ |

## 🎮 手动测试步骤

### 测试各种牌型

1. **测试低级牌型**（高牌、一对）
   - 观察是否显示白色
   - 分数应为 2-3 分

2. **测试中级牌型**（顺子、同花）
   - 观察是否显示青色
   - 分数应为 8-9 分

3. **测试高级牌型**（葫芦、四条）
   - 观察是否显示红色
   - 分数应为 12-14 分

4. **测试顶级牌型**（同花顺、皇家同花顺）
   - 观察是否显示金色
   - 分数应为 18-25 分

### 测试获胜者标记

1. 注意观察哪个玩家获胜
2. 该玩家的牌型应显示额外的 "+1"
3. 例如："同花 +9+1" 而不是 "同花 +9"

### 测试自动清除

1. 等待当前回合结束
2. 观察牌型显示
3. 当新回合开始时（庄家切换）
4. 所有牌型显示应该消失

## 🔍 调试技巧

### 查看控制台日志
```
[TheDecree] Hand types displayed for all players
```
看到这条日志说明牌型显示功能已执行

### 检查 UI 节点层级
在 Cocos Creator 的层级管理器中查找：
```
Canvas
└── PlayerUIManager
    └── Player_0
        └── InfoPanel
            ├── NameLabel
            ├── ScoreLabel
            └── HandTypeLabel  ⭐ 应该存在
```

### 修改牌型颜色（调试用）
在 `HandTypeHelper.ts` 的 `getDisplayColor()` 方法中修改颜色值：
```typescript
// 临时改为醒目的颜色以便调试
return "#FF0000"; // 红色
```

## 🐛 常见问题

### Q: 看不到牌型显示
**A:** 检查以下几点：
1. 确保已完成 ShowDown 阶段（所有玩家都出牌了）
2. 查看控制台是否有错误日志
3. 检查 PlayerUINode 的 InfoPanel 是否正确创建

### Q: 牌型显示位置不对
**A:** 调整 `PlayerUINode.ts` 中 HandTypeLabel 的 Y 坐标：
```typescript
handTypeLabel.setPosition(0, -50, 0);  // 修改这个值
```

### Q: 颜色显示不正确
**A:** 确认 Cocos Creator 版本支持 `Color` 对象的创建方式

### Q: 旧牌型没有清除
**A:** 检查 `startNewRound()` 是否正确调用了 `clearHandTypeDisplays()`

## 📞 获取帮助

如果遇到问题，请检查以下文件：
- [牌型显示功能实现说明.md](牌型显示功能实现说明.md) - 完整实现文档
- [TheDecree_功能清单.md](TheDecree_功能清单.md) - 功能清单和 TODO

---

**祝测试顺利！** 🎉
